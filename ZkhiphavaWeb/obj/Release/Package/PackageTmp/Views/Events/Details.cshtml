@model ZkhiphavaWeb.Models.Event

@{
    ViewBag.Title = "Details";
}

<h2 style="font-family:'Segoe Print'" class="yellow">@Model.title</h2>
@if (User.Identity.IsAuthenticated && User.IsInRole("Admin"))
{
    @Html.ActionLink("Edit ", "Edit", new { id = Model.id })
    @Html.ActionLink("| Delete", "Delete", new { id = Model.id })
}
<div class="row">
    <div class="col-md-4 yellow">
        <div>
            <div class="row">
                <div class="col-md-4">
                    <p class="yellow">@Model.date</p>
                </div>
                <div class="col-md-4">
                    <p class="yellow">@Model.stratTime.ToShortTimeString() till @Model.endTime.ToShortTimeString()</p>
                </div>
                <div class="col-md-4">
                    <p id="@Model.id" class="distance yellow"></p>
                </div>
            </div>

            <h4 style="font-family:'Segoe Print'" class="white">@Model.description</h4>
            <hr />
            <div class="row">
                <div class="col-md-6">
                    <a style="width:100%" class=" btn btn-primary btn-sm" onclick="getDirections('@Model.address')">
                        Maps <span class="glyphicon glyphicon-map-marker"></span>
                    </a>
                </div>
                <div class="col-md-6">
                    <a style="width:100%" href="@Model.url" class="btn btn-primary btn-sm">Instagram<span class="glyphicon glyphicon-picture"></span></a>
                </div>
            </div>
            <hr />
            <h4 style="font-family:'Segoe Print'">Artists</h4>
            @foreach (var artist in Model.artists)
            {
                <img src="@Url.Content(artist.imgPath)" style="height: 100px; width:100px; border-radius:90%;" />
                <a href=@Url.Action("Edit", "Artists", new { id = artist.id })>Edit</a>
            }
        </div>
    </div>
    <div class="col-md-8">
        @if (User.Identity.IsAuthenticated && User.IsInRole("Admin"))
        {
            <a href=@Url.Action("CreateImg", "Events", new { eventId = Model.id })>Add image</a>
        }
        <div id="myCarousel" class="carousel slide col-md-12" data-ride="carousel">
            <div id="myCarousel" class="carousel slide col-md-12" data-ride="carousel">
                <!-- Indicators -->
                <ol class="carousel-indicators">
                    <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                    <li data-target="#myCarousel" data-slide-to="1"></li>
                    <li data-target="#myCarousel" data-slide-to="2"></li>
                </ol>

                <!-- Wrapper for slides -->

                @if(Model.images.Count != 0){
                    <div class="carousel-inner">
                        @if (Model.images.Count > 0)
                        {
                            <div class="item active">
                                <img style="width:100%;height:100%" src=@Model.images.ElementAt(0).imgPath>
                            </div>
                        }
                        @if (Model.images.Count > 1)
                        {
                            <div class="item">
                                <img style="width:100%;height:100%" src=@Model.images.ElementAt(1).imgPath>
                            </div>
                        }
                        @if (Model.images.Count > 2)
                        {
                            <div class="item">
                                <img style="width:100%;height:100%" src=@Model.images.ElementAt(2).imgPath>
                            </div>
                        }
                    <!-- Left and right controls -->

                    </div>
                }
                

                <br />
                <br />
                <br />
                @*<a href=@Url.Action("Create", "Images")>Create</a>*@

                <a class="left carousel-control" href="#myCarousel" data-slide="prev">
                    <span class="glyphicon glyphicon-chevron-left"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="right carousel-control" href="#myCarousel" data-slide="next">
                    <span class="glyphicon glyphicon-chevron-right"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>
        </div>
    </div>


    <p>
        @Html.ActionLink("Edit", "Edit", new { id = Model.id }) |
        @Html.ActionLink("Back to List", "Index")
    </p>
    <script src="~/Scripts/Ziwava.js"></script>
